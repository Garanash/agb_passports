# Синхронизация кода между локальной машиной и сервером

## Скрипты синхронизации

### 1. `sync_to_server.sh` - Синхронизация на сервер
Синхронизирует локальные файлы на сервер и перезапускает frontend контейнер.

**Использование:**
```bash
./sync_to_server.sh
```

**Что синхронизируется:**
- `frontend/pages/login.tsx`
- `frontend/components/MainApp.tsx`
- `frontend/hooks/usePassports.ts`
- `frontend/lib/api.ts`
- `backend/utils/pdf_generator.py`

**Что делает скрипт:**
1. Копирует все указанные файлы на сервер
2. Останавливает и удаляет старый frontend контейнер
3. Создает и запускает новый frontend контейнер
4. Ждет 45 секунд для полного запуска
5. Показывает статус контейнера

### 2. `sync_from_server.sh` - Синхронизация с сервера
Синхронизирует файлы с сервера на локальную машину.

**Использование:**
```bash
./sync_from_server.sh
```

**Что синхронизируется:**
- Те же файлы, что и в `sync_to_server.sh`, но в обратном направлении

### 3. `check_sync.sh` - Проверка синхронизации
Проверяет, идентичны ли файлы на локальной машине и на сервере, сравнивая MD5 суммы.

**Использование:**
```bash
./check_sync.sh
```

## Рекомендации

1. **Перед деплоем:** Используйте `sync_to_server.sh` для отправки изменений на сервер
2. **После изменений на сервере:** Используйте `sync_from_server.sh` для получения изменений
3. **Проверка синхронизации:** Используйте `check_sync.sh` для проверки идентичности файлов
4. **Регулярная синхронизация:** Выполняйте синхронизацию после каждого изменения кода

## Важно

- Всегда проверяйте синхронизацию после изменений
- Убедитесь, что файлы идентичны перед деплоем
- Скрипты автоматически перезапускают контейнеры после синхронизации

## Автоматическая синхронизация

Для автоматической синхронизации при сохранении файлов можно использовать:
- Git hooks
- File watchers (например, `watchman` или `nodemon`)
- IDE плагины для синхронизации
